FROM ghcr.io/cross-rs/aarch64-unknown-linux-musl:latest

ARG DEBIAN_FRONTEND=noninteractive
ENV TZ=Etc/UTC

RUN dpkg --add-architecture arm64 && \
    apt-get update && \
    apt-get install -y zip curl sqlite3 mariadb-client postgresql
    
RUN curl -LO https://github.com/protocolbuffers/protobuf/releases/download/v22.2/protoc-22.2-linux-x86_64.zip && \
        unzip protoc-22.2-linux-x86_64.zip -d $HOME/.local && \
        mv $HOME/.local/bin/protoc /usr/bin/protoc

